<div class="createevent">
	<a routerLink="../timeline">Timeline</a>
	<form [formGroup]="createForm" (ngSubmit)="onSubmit()">
		<mat-card>
			<mat-card-title>Create New Event</mat-card-title>

			<br />

			<mat-card-content>
				<mat-form-field appearance="fill">
					<mat-label>Title</mat-label>
					<input matInput formControlName="title" />
				</mat-form-field>
				<br />
				<mat-form-field appearance="fill">
					<mat-label>Description</mat-label>
					<textarea matInput formControlName="description"></textarea>
				</mat-form-field>

				<h3 class="adresse-title">Adresse</h3>
				<div class="addresse">
					<mat-card-content class="mat-card-content">
						<div class="location-grid" formGroupName="location">
							<mat-form-field appearance="fill">
								<mat-label>Street</mat-label>
								<input matInput formControlName="street" />
							</mat-form-field>

							<mat-form-field appearance="fill">
								<mat-label>City</mat-label>
								<input matInput formControlName="city" />
							</mat-form-field>

							<mat-form-field appearance="fill">
								<mat-label>Postal Code</mat-label>
								<input matInput formControlName="postalCode" />
							</mat-form-field>

							<mat-form-field appearance="fill">
								<mat-label>Country</mat-label>
								<input matInput formControlName="country" />
							</mat-form-field>
						</div>
					</mat-card-content>
				</div>

				<div class="poll" formGroupName="poll">
					<div
						formArrayName="timePoints"
						*ngFor="let timePoint of timePoints.controls; let i = index"
					>
						<div [formGroupName]="i" class="time-point-entry">
							<mat-form-field appearance="fill">
								<mat-label>Date</mat-label>
								<input
									matInput
									[matDatepicker]="picker"
									formControlName="date"
								/>
								<mat-datepicker-toggle
									matSuffix
									[for]="picker"
								></mat-datepicker-toggle>
								<mat-datepicker #picker></mat-datepicker>
							</mat-form-field>

							<mat-form-field appearance="fill">
								<mat-label>Time</mat-label>
								<input matInput formControlName="time" type="time" />
							</mat-form-field>

							<button
								mat-icon-button
								color="primary"
								(click)="removeTimePoint(i)"
							>
								<mat-icon>remove</mat-icon>
							</button>
						</div>
					</div>
					<button mat-button (click)="addTimePoint()" type="button">
						Add Time Point
					</button>
				</div>

				<div class="invitation" formArrayName="invitations">
					<div
						*ngFor="let invitation of invitations.controls; let i = index"
						[formGroupName]="i"
					>
						<mat-form-field appearance="fill" class="invitation-input">
							<input matInput formControlName="email" placeholder="Email" />
						</mat-form-field>
						<button
							mat-icon-button
							color="primary"
							(click)="removeInvitation(i)"
						>
							<mat-icon>remove</mat-icon>
						</button>
					</div>
					<button mat-button (click)="addInvitation()" type="button">
						Add Email for Invitation
					</button>
				</div>
			</mat-card-content>
			<mat-card-actions>
				<button mat-raised-button color="primary" type="submit">
					Create Event
				</button>
			</mat-card-actions>
		</mat-card>
	</form>
</div>
