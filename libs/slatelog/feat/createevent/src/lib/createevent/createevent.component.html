<div>
	<a routerLink="../timeline"> Timeline </a>
	<mat-card>
		<mat-form-field>
			<mat-label>Event-Name</mat-label>
			<input matInput />
		</mat-form-field>

		<mat-form-field>
			<mat-label>Address</mat-label>
			<input matInput />
		</mat-form-field>

		<mat-form-field>
			<mat-label>Description</mat-label>
			<textarea matInput></textarea>
		</mat-form-field>

		<div class="datetime-fields">
			<mat-form-field>
				<mat-label>Deadline of Voting</mat-label>
				<input matInput [matDatepicker]="picker" />
				<mat-hint>MM/DD/YYYY</mat-hint>
				<mat-datepicker-toggle
					matIconSuffix
					[for]="picker"
				></mat-datepicker-toggle>
				<mat-datepicker #picker></mat-datepicker>
			</mat-form-field>

			<mat-form-field class="example-full-width">
				<mat-label>Time</mat-label>
				<input matInput type="time" />
				<mat-hint>hh:mm</mat-hint>
			</mat-form-field>
		</div>

		<form [formGroup]="emailForm">
			<div formArrayName="emails">
				<div
					*ngFor="let emailGroup of getEmailControls()?.controls; let i = index"
				>
					<mat-form-field appearance="fill">
						<mat-label>Email</mat-label>
						<input
							matInput
							formControlName="{{ i }}"
							type="email"
							placeholder="Enter your email"
						/>
						<mat-icon matSuffix (click)="removeEmail(i)">cancel</mat-icon>
						<mat-error
							*ngIf="
								getEmailControls()?.at(i)?.hasError('email') &&
								!getEmailControls()?.at(i)?.pristine
							"
							>Please enter a valid email address
						</mat-error>
					</mat-form-field>
				</div>
			</div>
			<div class="button-container">
				<button
					class="button-addmail"
					mat-raised-button
					color="primary"
					(click)="addEmail()"
				>
					Add Email
				</button>
			</div>
		</form>
	</mat-card>
</div>
