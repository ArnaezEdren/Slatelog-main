<div>
	<a routerLink="../timeline">Timeline</a>
	<mat-card>
		<mat-form-field appearance="fill">
			<mat-label>Event-Name</mat-label>
			<input matInput />
		</mat-form-field>

		<mat-form-field appearance="fill">
			<mat-label>Address</mat-label>
			<input matInput />
		</mat-form-field>

		<div class="datetime-fields">
			<mat-form-field>
				<mat-label>Deadline of Voting</mat-label>
				<input matInput [matDatepicker]="picker" />
				<mat-hint>MM/DD/YYYY</mat-hint>
				<mat-datepicker-toggle
					matIconSuffix
					[for]="picker"
				></mat-datepicker-toggle>
				<mat-datepicker #picker></mat-datepicker>
			</mat-form-field>

			<mat-form-field class="example-full-width">
				<mat-label>Time</mat-label>
				<input matInput type="time" />
				<mat-hint>hh:mm</mat-hint>
			</mat-form-field>
		</div>

		<mat-form-field appearance="fill">
			<mat-label>Description</mat-label>
			<textarea matInput></textarea>
		</mat-form-field>

		<form [formGroup]="emailForm">
			<div formArrayName="emails" class="input-fields">
				<div
					*ngFor="let emailGroup of getEmailControls()?.controls; let i = index"
				>
					<mat-form-field appearance="fill">
						<mat-label>Email</mat-label>
						<input
							matInput
							formControlName="{{ i }}"
							type="email"
							placeholder="Enter your email"
						/>
						<mat-icon matSuffix (click)="removeEmail(i)">cancel</mat-icon>
						<mat-error
							*ngIf="
								getEmailControls()?.at(i)?.hasError('email') &&
								!getEmailControls()?.at(i)?.pristine
							"
						>
							Please enter a valid email address
						</mat-error>
					</mat-form-field>
				</div>
			</div>
			<div class="button-container">
				<button mat-raised-button color="primary" (click)="addEmail()">
					Add Email
				</button>
			</div>

			<div formArrayName="dateTimes">
				<div
					*ngFor="let dateTimeGroup of getDateTimes().controls; let i = index"
					[formGroupName]="i"
					class="date-time-row"
				>
					<mat-form-field appearance="fill" class="date-field">
						<mat-label>Datum</mat-label>
						<input
							matInput
							[matDatepicker]="picker"
							placeholder="WÃ¤hlen Sie ein Datum"
						/>
						<mat-datepicker-toggle
							matSuffix
							[for]="picker"
						></mat-datepicker-toggle>
						<mat-datepicker #picker="matDatepicker"></mat-datepicker>
					</mat-form-field>

					<mat-form-field appearance="fill" class="time-field">
						<mat-label>Uhrzeit</mat-label>
						<input matInput type="time" formControlName="time" />
					</mat-form-field>

					<button
						mat-mini-fab
						aria-label="Feld entfernen"
						(click)="removeDateTimeField(i)"
						class="remove-button"
					>
						<mat-icon>remove</mat-icon>
					</button>
				</div>
				<div class="button-add-date">
					<button
						mat-raised-button
						color="primary"
						(click)="addDateTimeField()"
					>
						Add date
					</button>
				</div>
			</div>
		</form>
	</mat-card>
</div>
